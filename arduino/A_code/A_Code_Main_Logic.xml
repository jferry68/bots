<xml xmlns="http://www.w3.org/1999/xhtml"><block type="arduino_setup" x="0" y="0"><statement name="MyLoop"><block type="controls_if"><mutation else="1"></mutation><value name="IF0"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><block type="variables_get"><field name="VAR">Barm</field></block></value><value name="B"><block type="math_number"><field name="NUM">1</field></block></value></block></value><statement name="DO0"><block type="variables_set"><field name="VAR">SelfGreenLightPin</field><value name="VALUE"><block type="inout_highlow"><field name="BOOL">HIGH</field></block></value><next><block type="serial_print"><value name="CONTENT"><block type="text"><field name="TEXT">B arm is up</field></block></value><next><block type="base_delayms"><value name="DELAY_TIME"><block type="math_number"><field name="NUM">1000</field></block></value></block></next></block></next></block></statement><statement name="ELSE"><block type="variables_set"><field name="VAR">SelfGreenLightPin</field><value name="VALUE"><block type="inout_highlow"><field name="BOOL">LOW</field></block></value></block></statement><next><block type="controls_if"><value name="IF0"><block type="logic_operation"><field name="OP">AND</field><value name="A"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><block type="variables_get"><field name="VAR">SelfButtonPin</field></block></value><value name="B"><block type="math_number"><field name="NUM">1</field></block></value></block></value><value name="B"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><block type="variables_get"><field name="VAR">Barm</field></block></value><value name="B"><block type="math_number"><field name="NUM">1</field></block></value></block></value></block></value><statement name="DO0"><block type="controls_if"><value name="IF0"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><block type="variables_get"><field name="VAR">Berror</field></block></value><value name="B"><block type="math_number"><field name="NUM">0</field></block></value></block></value><statement name="DO0"><block type="variables_set"><field name="VAR">Akick</field><value name="VALUE"><block type="math_number"><field name="NUM">1</field></block></value><next><block type="serial_print"><value name="CONTENT"><block type="text"><field name="TEXT">Button has been pushed</field></block></value><next><block type="base_delayms"><value name="DELAY_TIME"><block type="math_number"><field name="NUM">1000</field></block></value></block></next></block></next></block></statement></block></statement><next><block type="controls_if"><value name="IF0"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><block type="variables_get"><field name="VAR">SelfArmPin</field></block></value><value name="B"><block type="math_number"><field name="NUM">1</field></block></value></block></value><statement name="DO0"><block type="variables_set"><field name="VAR">Aarm</field><value name="VALUE"><block type="math_number"><field name="NUM">1</field></block></value><next><block type="serial_print"><value name="CONTENT"><block type="text"><field name="TEXT">Self arm is up</field></block></value><next><block type="base_delayms"><value name="DELAY_TIME"><block type="math_number"><field name="NUM">1000</field></block></value></block></next></block></next></block></statement><next><block type="controls_if"><value name="IF0"><block type="logic_operation"><field name="OP">AND</field><value name="A"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><block type="variables_get"><field name="VAR">Akick</field></block></value><value name="B"><block type="math_number"><field name="NUM">1</field></block></value></block></value><value name="B"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><block type="variables_get"><field name="VAR">Bservo</field></block></value><value name="B"><block type="math_number"><field name="NUM">1</field></block></value></block></value></block></value><statement name="DO0"><block type="variables_set"><field name="VAR">SelfRedLightPin</field><value name="VALUE"><block type="inout_highlow"><field name="BOOL">HIGH</field></block></value><next><block type="serial_print"><value name="CONTENT"><block type="text"><field name="TEXT">B responded to kick command and queued to kick</field></block></value><next><block type="base_delayms"><value name="DELAY_TIME"><block type="math_number"><field name="NUM">1000</field></block></value></block></next></block></next></block></statement><next><block type="controls_if"><value name="IF0"><block type="logic_operation"><field name="OP">AND</field><value name="A"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><block type="variables_get"><field name="VAR">Akick</field></block></value><value name="B"><block type="math_number"><field name="NUM">0</field></block></value></block></value><value name="B"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><block type="variables_get"><field name="VAR">Bservo</field></block></value><value name="B"><block type="math_number"><field name="NUM">0</field></block></value></block></value></block></value><statement name="DO0"><block type="variables_set"><field name="VAR">SelfRedLightPin</field><value name="VALUE"><block type="inout_highlow"><field name="BOOL">LOW</field></block></value><next><block type="serial_print"><value name="CONTENT"><block type="text"><field name="TEXT">B kick not queued or it completed successfully</field></block></value></block></next></block></statement><next><block type="controls_if"><value name="IF0"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><block type="variables_get"><field name="VAR">Bkick</field></block></value><value name="B"><block type="math_number"><field name="NUM">1</field></block></value></block></value><statement name="DO0"><block type="variables_set"><field name="VAR">Aservo</field><value name="VALUE"><block type="math_number"><field name="NUM">1</field></block></value><next><block type="serial_print"><value name="CONTENT"><block type="text"><field name="TEXT">B sent message for A to queue a kick</field></block></value></block></next></block></statement><next><block type="controls_if"><value name="IF0"><block type="logic_operation"><field name="OP">AND</field><value name="A"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><block type="variables_get"><field name="VAR">Aservo</field></block></value><value name="B"><block type="math_number"><field name="NUM">1</field></block></value></block></value><value name="B"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><block type="variables_get"><field name="VAR">SelfMotionPin</field></block></value><value name="B"><block type="inout_highlow"><field name="BOOL">HIGH</field></block></value></block></value></block></value><statement name="DO0"><block type="variables_set"><field name="VAR">Aservo</field><value name="VALUE"><block type="math_number"><field name="NUM">0</field></block></value><next><block type="servo_move"><field name="PIN">1</field><value name="DEGREE"><block type="math_number"><field name="NUM">180</field></block></value><value name="DELAY_TIME"><block type="math_number"><field name="NUM">500</field></block></value><next><block type="servo_move"><field name="PIN">1</field><value name="DEGREE"><block type="math_number"><field name="NUM">0</field></block></value><value name="DELAY_TIME"><block type="math_number"><field name="NUM">2000</field></block></value><next><block type="serial_print"><value name="CONTENT"><block type="text"><field name="TEXT">Self servo has run</field></block></value><next><block type="controls_if"><mutation else="1"></mutation><value name="IF0"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><block type="variables_get"><field name="VAR">SelfArmPin</field></block></value><value name="B"><block type="math_number"><field name="NUM">1</field></block></value></block></value><statement name="DO0"><block type="variables_set"><field name="VAR">Aerror</field><value name="VALUE"><block type="math_number"><field name="NUM">1</field></block></value><next><block type="serial_print"><value name="CONTENT"><block type="text"><field name="TEXT">Self servo has failed to kick or self robot didnt fall </field></block></value></block></next></block></statement><statement name="ELSE"><block type="variables_set"><field name="VAR">Aarm</field><value name="VALUE"><block type="math_number"><field name="NUM">0</field></block></value><next><block type="serial_print"><value name="CONTENT"><block type="text"><field name="TEXT">Self robot has fallen</field></block></value></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement><next><block type="controls_if"><value name="IF0"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><block type="variables_get"><field name="VAR">Berror</field></block></value><value name="B"><block type="math_number"><field name="NUM">1</field></block></value></block></value><statement name="DO0"><block type="serial_print"><value name="CONTENT"><block type="text"><field name="TEXT">B servo has failed to kick or B robot didnt fall </field></block></value><next><block type="controls_repeat_x"><value name="TIMES"><block type="math_number"><field name="NUM">5</field></block></value><statement name="DO"><block type="variables_set"><field name="VAR">SelfRedLightPin</field><value name="VALUE"><block type="inout_highlow"><field name="BOOL">LOW</field></block></value><next><block type="base_delayms"><value name="DELAY_TIME"><block type="math_number"><field name="NUM">250</field></block></value><next><block type="variables_set"><field name="VAR">SelfRedLightPin</field><value name="VALUE"><block type="inout_highlow"><field name="BOOL">HIGH</field></block></value><next><block type="base_delayms"><value name="DELAY_TIME"><block type="math_number"><field name="NUM">250</field></block></value></block></next></block></next></block></next></block></statement></block></next></block></statement><next><block type="controls_if"><value name="IF0"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><block type="variables_get"><field name="VAR">Aerror</field></block></value><value name="B"><block type="math_number"><field name="NUM">1</field></block></value></block></value><statement name="DO0"><block type="serial_print"><value name="CONTENT"><block type="text"><field name="TEXT">Indicating self kick and robot error</field></block></value><next><block type="controls_repeat_x"><value name="TIMES"><block type="math_number"><field name="NUM">5</field></block></value><statement name="DO"><block type="variables_set"><field name="VAR">SelfGreenLightPin</field><value name="VALUE"><block type="inout_highlow"><field name="BOOL">LOW</field></block></value><next><block type="base_delayms"><value name="DELAY_TIME"><block type="math_number"><field name="NUM">250</field></block></value><next><block type="variables_set"><field name="VAR">SelfGreenLightPin</field><value name="VALUE"><block type="inout_highlow"><field name="BOOL">HIGH</field></block></value><next><block type="base_delayms"><value name="DELAY_TIME"><block type="math_number"><field name="NUM">250</field></block></value></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>